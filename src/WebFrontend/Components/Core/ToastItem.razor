@using WebFrontend.Services

<li 
    tabindex="0" 
    class="toast-item group @(Toast.IsRemoving ? "animate-out fade-out" : "animate-in fade-in slide-in-from-top-2")"
    data-sonner-toast="true"
    data-mounted="true"
    data-visible="@(!Toast.IsRemoving).ToString().ToLower()"
    data-dismissible="@Toast.Dismissible.ToString().ToLower()">
    <div class="bg-card border border-border rounded-lg shadow-lg p-4 min-w-[356px]">
        <div class="flex items-start gap-3">
            @if (Toast.Type != ToastType.Default)
            {
                <div class="flex-shrink-0 mt-0.5">
                    @switch (Toast.Type)
                    {
                        case ToastType.Success:
                            <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                            </svg>
                            break;
                        case ToastType.Error:
                            <svg class="w-5 h-5 text-destructive" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                            break;
                        case ToastType.Warning:
                            <svg class="w-5 h-5 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                            </svg>
                            break;
                        case ToastType.Info:
                            <svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            break;
                    }
                </div>
            }
            
            <div class="flex-1 min-w-0">
                <div class="text-sm font-medium text-foreground" data-title="">
                    @Toast.Title
                </div>
                @if (!string.IsNullOrWhiteSpace(Toast.Description))
                {
                    <div class="text-sm text-muted-foreground mt-1" data-description="">
                        @Toast.Description
                    </div>
                }
            </div>

            @if (Toast.Dismissible)
            {
                <button
                    @onclick="OnDismiss"
                    @onclick:stopPropagation="true"
                    class="flex-shrink-0 p-1 rounded-md hover:bg-accent text-muted-foreground hover:text-foreground transition-colors opacity-0 group-hover:opacity-100"
                    aria-label="Dismiss">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            }
        </div>
    </div>
</li>

@code {
    [Parameter] public required Toast Toast { get; set; }
    [Parameter] public required Action OnDismiss { get; set; }
}

